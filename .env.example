# AI-Powered Code Suggestions and Team Dashboard
# Copy this file to .env and fill in your API keys

# =============================================================================
# Application Configuration
# =============================================================================
NODE_ENV=development
APP_VERSION=1.0.0
PORT=5000

# =============================================================================
# AI Services
# =============================================================================
# Anthropic Claude API Key for AI-powered code suggestions
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# =============================================================================
# GitHub Integration
# =============================================================================
# GitHub Token for Team Dashboard functionality
# Generate a personal access token from: https://github.com/settings/tokens
# Required scopes: repo, read:org, read:user
GITHUB_TOKEN=your_github_token_here

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL connection URL
DATABASE_URL=postgresql://username:password@localhost:5432/codereview
DB_POOL_SIZE=10
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=10000
DB_SSL=false

# =============================================================================
# Redis Cache Configuration
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=codereview:

# =============================================================================
# Message Queue Configuration
# =============================================================================
# Queue type: 'rabbitmq' or 'kafka'
QUEUE_TYPE=rabbitmq
QUEUE_URL=amqp://localhost
QUEUE_PREFETCH=1
QUEUE_RETRIES=3
QUEUE_RETRY_DELAY=5000

# RabbitMQ specific
RABBITMQ_EXCHANGE=codereview
RABBITMQ_EXCHANGE_TYPE=topic
RABBITMQ_DLX=codereview.dlx

# Kafka specific
KAFKA_GROUP_ID=codereview-workers
KAFKA_SESSION_TIMEOUT=30000
KAFKA_HEARTBEAT_INTERVAL=3000

# =============================================================================
# Worker Pool Configuration
# =============================================================================
MAX_WORKERS=10
MIN_WORKERS=2
WORKER_TASK_TIMEOUT=300000
WORKER_DOCKER_IMAGE=code-analysis:latest
DOCKER_REGISTRY=
WORKER_MEMORY_LIMIT=2g
WORKER_CPU_LIMIT=1
WORKER_NETWORK_MODE=bridge
WORKER_AUTO_SCALE=true
WORKER_SCALE_UP_THRESHOLD=10
WORKER_SCALE_DOWN_THRESHOLD=2

# =============================================================================
# Monitoring and Observability
# =============================================================================
# Sentry
SENTRY_DSN=
SENTRY_ENABLED=false
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_PROFILES_SAMPLE_RATE=1.0

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_PATH=/metrics

# Logging
LOG_LEVEL=info

# =============================================================================
# Security
# =============================================================================
# Allowed origins for CORS (production)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Session secret
SESSION_SECRET=your_session_secret_here